<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Twitch Regex Tool</title>
<style>
  body {
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background: #0d0d0d;
    color: #f5f5f5;
  }
  h1 {
    margin-bottom: 20px;
    color: #fff;
  }
  .display-box {
    font-family: monospace;
    margin-bottom: 10px;
    background: rgba(255, 255, 255, 0.08);
    padding: 10px;
    border-radius: 10px;
    width: 100%;
    max-width: 700px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    gap: 12px;
    max-width: 700px;
    width: 100%;
    margin: 25px 0;
  }
  .box {
    padding: 10px;
    text-align: center;
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .box:hover {
    background: rgba(255, 165, 0, 0.3);
    transform: scale(1.05);
  }
  .toggle {
    background: rgba(255,255,255,0.2);
    border: none;
    border-radius: 6px;
    padding: 2px 6px;
    cursor: pointer;
    font-size: 0.9rem;
    margin-left: 5px;
    color: #fff;
  }
  .toggle.active {
    background: rgba(255, 165, 0, 0.8);
  }
  .controls {
    margin-top: 15px;
    display: flex;
    gap: 10px;
  }
  button {
    padding: 10px 18px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background: #ff9800;
    color: #111;
    font-weight: bold;
    transition: 0.2s;
  }
  button:hover {
    background: #ffa733;
  }
</style>
</head>
<body>
<h1>Twitch Regex Tool</h1>

<div class="display-box" id="wordDisplay">Wort: </div>
<div class="display-box" id="regexDisplay">Regex: (?i)\b\b</div>

<div class="grid" id="grid"></div>

<div class="controls">
  <button id="copyBtn">Copy Regex</button>
  <button id="clearBtn">Clear</button>
</div>

<script>
const regexMap = {
  a: "[aA@4äÄàáâãåĀ#*]",
  b: "[bB8ßẞ#*]",
  c: "[cC(ķčćç¢©#*]",
  d: "[dDÐďđ#*]",
  e: "[eE3€èéêëě#*]",
  f: "[fFƒ#*]",
  g: "[gG6ɢ9#*]",
  h: "[hH#*]",
  i: "[iI1!|ìíîïįī#*]",
  j: "[jJ#*]",
  k: "[kKκ#*]",
  l: "[lL1!|ł#*]",
  m: "[mM#*]",
  n: "[nNñńňņ#*]",
  o: "[oO0öÖóòôõø¤°#*]",
  p: "[pPρ¶þ#*]",
  q: "[qQ9#*]",
  r: "[rRʁЯ®#*]",
  s: "[sS5$šśş§ßẞ#*]",
  t: "[tT7†ŧ#*]",
  u: "[uUúùûüÜūµ#*]",
  v: "[vV\\/#!*]",
  w: "[wWvvωŴ#*]",
  x: "[xX%×χ#*]",
  y: "[yY¥ýÿ#*]",
  z: "[zZ2žźżʒ#*]"
};

const grid = document.getElementById("grid");
const regexDisplay = document.getElementById("regexDisplay");
const wordDisplay = document.getElementById("wordDisplay");
const copyBtn = document.getElementById("copyBtn");
const clearBtn = document.getElementById("clearBtn");

let currentWord = "";
let currentRegex = "";

function updateDisplay() {
  wordDisplay.textContent = "Wort: " + currentWord;
  regexDisplay.textContent = "Regex: " + `(?i)\\b${currentRegex}\\b`;
}

Object.keys(regexMap).forEach(letter => {
  const container = document.createElement("div");
  container.className = "box";

  const span = document.createElement("span");
  span.textContent = letter;

  const toggleBtn = document.createElement("button");
  toggleBtn.textContent = "?";
  toggleBtn.className = "toggle";
  toggleBtn.dataset.optional = "false";

  container.appendChild(span);
  container.appendChild(toggleBtn);

  // Klick auf die Box (fügt hinzu)
  container.onclick = (e) => {
    if (e.target === toggleBtn) return; // Toggle separat behandeln
    currentWord += letter;
    const isOptional = toggleBtn.dataset.optional === "true";
    currentRegex += isOptional
      ? `${regexMap[letter]}?[\\W_#*]*`
      : `${regexMap[letter]}+[\\W_#*]*`;
    updateDisplay();

    // nach Klick das ? zurücksetzen
    if (isOptional) {
      toggleBtn.dataset.optional = "false";
      toggleBtn.classList.remove("active");
    }
  };

  // Toggle ? optional
  toggleBtn.onclick = (e) => {
    e.stopPropagation();
    toggleBtn.dataset.optional = toggleBtn.dataset.optional === "true" ? "false" : "true";
    toggleBtn.classList.toggle("active");
  };

  grid.appendChild(container);
});

copyBtn.onclick = async () => {
  await navigator.clipboard.writeText(regexDisplay.textContent.replace("Regex: ", ""));
  copyBtn.textContent = "Copied!";
  setTimeout(() => copyBtn.textContent = "Copy Regex", 1200);
};

clearBtn.onclick = () => {
  currentWord = "";
  currentRegex = "";
  updateDisplay();
};

// initial
updateDisplay();
</script>
</body>
</html>
